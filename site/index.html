<!DOCTYPE html>
  
<html lang="en">
  
  <head>
    
    <title>Multi-site Stream Listing</title>
    <meta charset="utf-8" />
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.min.js"></script>
    <script src="config.js"></script>
    <script src="util.js"></script>
    <script src="settings.js"></script>
    <script src="twitch.js"></script>
    <script src="hitbox.js"></script>
    <script src="nico.js"></script>
    <script src="main.js"></script>
    
    <link rel="stylesheet"
          href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/themes/smoothness/jquery-ui.css" />
    <link rel="stylesheet" type="text/css" media="screen"
          href="main.css" />
    
  </head>
  
  
  <body>
    
    <div id="notifications">
    </div>
    
    <div id="overall-container">
      
      <div id="top-bar">
        <button type="button" id="settings-button">Settings</button>
      
        <div id="request-status">Server requests: </div>
      </div>
      
      <h2 id="streams-header" class="section">LIVE STREAMS</h2>
      <div id="streams" class="media-container">
      </div>
      
      <h2 id="hosts-header" class="section">LIVE HOSTS</h2>
      <div id="hosts" class="media-container hosts">
      </div>
      
      <h2 id="games-header" class="section">LIVE GAMES</h2>
      <div id="games" class="media-container games">
      </div>
      
      <h2 id="videos-header" class="section">RECENT VIDEOS</h2>
      <div id="videos" class="media-container">
      </div>
      
      <div id="footer">
        This page is open source on
        <a href="https://github.com/yoshifan/multisite-streams-page"
          target="_blank">GitHub</a>.
      </div>
    </div>
      
    <div id="hidden-elements-container" style="display:none;">
    
      <div id="settings">
      
        <ul>
          <li><a href="#settings-main">Main</a></li>
          <li><a href="#settings-twitchhitbox">Twitch + Hitbox</a></li>
          <li><a href="#settings-nico">Nicovideo</a></li>
        </ul>
        
        <div id="settings-main">
          <div>
          <input type="checkbox" name="twitchEnabled" id="field-twitchEnabled" />
          <label for="field-twitchEnabled">Include Twitch in listing </label>
          </div>
          
          <div>
          <input type="checkbox" name="hitboxEnabled" id="field-hitboxEnabled" />
          <label for="field-hitboxEnabled">Include Hitbox in listing </label>
          </div>
          
          <div>
          <input type="checkbox" name="nicoEnabled" id="field-nicoEnabled" />
          <label for="field-nicoEnabled">Include Nicovideo in listing </label>
          </div>
        </div>
        
        <div id="settings-twitchhitbox">
          <div>
          <label for="field-hitboxUsername">Hitbox username: </label>
          <input type="text" name="hitboxUsername" id="field-hitboxUsername" size="12" />
          </div>
          
          <div>
          <label for="field-gameDisplay">Game display: </label>
          <select name="gameDisplay" id="field-gameDisplay">
            <option value="boximage">Box image</option>
            <option value="name">Name</option>
            <option value="none">None</option>
          </select>
          </div>
          
          <div>
          <label for="field-videoLimit">Max videos from each site (1-100): </label>
          <input type="text" name="videoLimit" id="field-videoLimit" size="3" />
          </div>
          
          <div>
          <label for="field-hitboxThumbnailServer">Hitbox thumbnail server: </label>
          <select name="hitboxThumbnailServer" id="field-hitboxThumbnailServer">
            <option value="bf">edge.bf.hitbox.tv</option>
            <option value="fra">edge.fra.hitbox.tv</option>
            <option value="sf">edge.sf.hitbox.tv</option>
            <option value="vie">edge.vie.hitbox.tv</option>
          </select>
          </div>
        </div>
        
        <div id="settings-nico">
          <div>Communities to watch for
            (<span id="nico-community-count">0</span>):</div>
          <div id="confirm-nicoCommunities">
            <div id="nicoCommunities-table-container"></div>
            <button id="edit-button-nicoCommunities" type="button">
              Edit</button>
          </div>
          <div id="edit-nicoCommunities" style="display:none;">
            <div>
              <textarea id="textarea-nicoCommunities">
                </textarea>
            </div>
            <div class="help-text">
              Type one community ID per line. A community ID should be "co"
              followed by numbers. Example: co1234567
            </div>
            <div>
              <button id="confirm-button-nicoCommunities" type="button">
                Confirm</button>
            </div>
          </div>
          <br /><br />
          
          <label for="field-nicoSearchKeywords">Search keywords: </label>
          <select name="nicoSearchKeywords" id="field-nicoSearchKeywords">
            <option value="rta, 練習+ゲーム">rta OR (練習 AND ゲーム)</option>
            <option value="ゲーム">ゲーム</option>
            <option value="ゲーム, 一般">ゲーム OR 一般</option>
          </select>
          
          <span id="help-nicoSearchKeywords-button" class="help-button">(?)</span>
          <div id="help-nicoSearchKeywords" class="long-help-text-container">
            <div class="help-text">
              <p>練習 means practice, ゲーム means game, 一般 means general.</p>
            
              <p>Nicovideo's API is pretty limited when it comes to
              checking the live status of specific communities.
              The fastest way we found is to
              search ALL live streams on the site, and then check the search
              results for the communities you follow.</p>
              
              <p>You must pick the search keywords to balance between making the
              search fast, versus making sure the search doesn't miss any
              streamers you follow.</p>
              
              <p><strong>rta OR (練習 AND ゲーム)</strong>: Fast.
              Gets streams labeled as RTA
              (in the stream tags, title, or community name),
              and streams labeled as practice in Nico's game category. If these
              words are only found in the community tags, then it doesn't work.</p>
              
              <p><strong>ゲーム</strong>: Slow, especially on weekends and
              peak hours in Japan.
              Gets all streams in Nico's game category.</p>
              
              <p><strong>ゲーム OR 一般</strong>: Slower.
              Gets all streams in Nico's game category and general category.
              If any of your followed streamers sometimes do non-gaming things
              like drawing, coding, etc. then you could consider using this.</p>
              
              <p>If you want to really make sure you're not missing any
              particular streams, log into Nicovideo, join the communities that
              interest you, and go to
              <a href="http://live.nicovideo.jp/my" target="_blank">this page</a>.</p>
            </div>
          </div>
          <br /><br />
          
          <div class="help-text">
            For now, only Nico streams are supported, not videos.
          </div>
        </div>
        
      </div>
      
    </div>
    
    
    <script type="text/javascript">
      Settings.init();
      Main.init();
    </script>
    
  </body>
  
</html>
